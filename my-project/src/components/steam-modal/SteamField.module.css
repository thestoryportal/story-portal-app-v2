/**
 * SteamField Styles
 *
 * NEW DESIGN: Radial gradient layers creating ethereal steam background
 * - Lightest cream/parchment at center (where content sits)
 * - Gradates outward to darker brown atmospheric tones
 * - Constantly drifting with subtle movement
 * - Burst entrance effect on modal open
 */

.steamField {
  position: fixed;
  inset: 0;
  z-index: 1002;
  overflow: hidden;
  pointer-events: none;
}

/* ============================================
   Phase 1: Steam Seeps from Center (0-800ms)
   Starts as small wisp, expands rapidly
   ============================================ */
.burstEffect {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 30px;
  height: 30px;
  transform: translate(-50%, -50%);
  border-radius: 50%;

  /* Initial seep - #C5B389 at low density */
  background: radial-gradient(
    circle at center,
    rgba(197, 179, 137, 0.3) 0%,
    rgba(197, 179, 137, 0.2) 30%,
    rgba(197, 179, 137, 0.1) 60%,
    transparent 100%
  );

  filter: blur(12px);

  /* Seeps quickly from center point, expanding outward */
  animation: seepFromCenter 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  z-index: 1003;
}

@keyframes seepFromCenter {
  0% {
    transform: translate(-50%, -50%) scale(0.1);
    opacity: 0;
    filter: blur(5px);
  }
  40% {
    transform: translate(-50%, -50%) scale(3);
    opacity: 0.8;
    filter: blur(15px);
  }
  100% {
    transform: translate(-50%, -50%) scale(8);
    opacity: 0.6;
    filter: blur(25px);
  }
}

/* ============================================
   Base Layer - Phase 2: Building density (800-2000ms)
   ============================================ */
.radialBase {
  position: absolute;
  inset: -10%;
  z-index: 1002;

  /* Core steam with #C5B389 center */
  background: radial-gradient(
    ellipse 70% 65% at 50% 45%,
    rgba(197, 179, 137, 0.4) 0%,     /* #C5B389 at center - starts building */
    rgba(197, 179, 137, 0.35) 10%,
    rgba(185, 165, 130, 0.28) 20%,
    rgba(170, 150, 120, 0.22) 30%,
    rgba(155, 135, 105, 0.16) 40%,
    rgba(140, 120, 90, 0.12) 50%,
    rgba(120, 100, 75, 0.09) 60%,
    rgba(100, 85, 60, 0.06) 70%,
    rgba(80, 65, 45, 0.04) 80%,
    rgba(60, 45, 30, 0.02) 90%,
    transparent 100%
  );

  filter: blur(50px);

  /* Emanates from center after initial seep */
  animation:
    baseSeepExpand 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.8s backwards,
    radialBaseDrift 25s ease-in-out infinite 1.7s;

  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

@keyframes baseSeepExpand {
  0% {
    opacity: 0;
    transform: scale(0.15) translate(0, 0);
    filter: blur(20px);
  }
  60% {
    opacity: 0.9;
    transform: scale(0.8) translate(0, 0);
    filter: blur(40px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translate(0, 0);
    filter: blur(50px);
  }
}

@keyframes radialBaseDrift {
  0%, 100% {
    transform: translate(0, 0) scale(1) rotate(0deg);
  }
  8% {
    transform: translate(42px, -28px) scale(1.06) rotate(3.8deg);
  }
  17% {
    transform: translate(-35px, 45px) scale(0.94) rotate(-4.2deg);
  }
  29% {
    transform: translate(58px, 12px) scale(1.08) rotate(2.5deg);
  }
  41% {
    transform: translate(-48px, -35px) scale(0.91) rotate(-5.1deg);
  }
  54% {
    transform: translate(22px, 52px) scale(1.04) rotate(3.3deg);
  }
  67% {
    transform: translate(-62px, -18px) scale(0.96) rotate(-3.7deg);
  }
  79% {
    transform: translate(38px, 42px) scale(1.07) rotate(4.6deg);
  }
  91% {
    transform: translate(-28px, -48px) scale(0.93) rotate(-2.9deg);
  }
}

/* ============================================
   Mid Layer - Phase 3: Density increases (1400-2800ms)
   ============================================ */
.radialMid {
  position: absolute;
  inset: -5%;
  z-index: 1003;

  /* Second emission wave - adds density */
  background: radial-gradient(
    ellipse 60% 55% at 48% 52%,
    rgba(197, 179, 137, 0.4) 0%,    /* #C7B58B - more density */
    rgba(197, 179, 137, 0.35) 10%,
    rgba(185, 165, 130, 0.3) 20%,
    rgba(170, 150, 115, 0.25) 35%,
    rgba(155, 135, 100, 0.2) 50%,
    rgba(140, 120, 85, 0.15) 65%,
    rgba(120, 100, 70, 0.1) 78%,
    rgba(100, 85, 55, 0.06) 90%,
    transparent 100%
  );

  filter: blur(45px);

  /* Second wave - continues building from center */
  animation:
    midSeepExpand 1.1s cubic-bezier(0.25, 0.46, 0.45, 0.94) 1.7s backwards,
    radialMidDrift 18s ease-in-out infinite 2.8s;

  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

@keyframes midSeepExpand {
  0% {
    opacity: 0;
    transform: scale(0.2) rotate(0deg);
    filter: blur(20px);
  }
  50% {
    opacity: 0.85;
    transform: scale(0.7) rotate(0deg);
    filter: blur(35px);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
    filter: blur(45px);
  }
}

@keyframes radialMidDrift {
  0%, 100% {
    transform: translate(0, 0) scale(1) rotate(0deg);
  }
  11% {
    transform: translate(-52px, 38px) scale(1.09) rotate(5.2deg);
  }
  23% {
    transform: translate(48px, -42px) scale(0.88) rotate(-6.1deg);
  }
  36% {
    transform: translate(-38px, -28px) scale(1.06) rotate(4.7deg);
  }
  49% {
    transform: translate(65px, 52px) scale(0.92) rotate(-4.3deg);
  }
  62% {
    transform: translate(-42px, 18px) scale(1.08) rotate(5.8deg);
  }
  74% {
    transform: translate(32px, -58px) scale(0.95) rotate(-3.9deg);
  }
  87% {
    transform: translate(-55px, -32px) scale(1.05) rotate(6.4deg);
  }
}

/* ============================================
   Outer Layer - Phase 4: Peak density (2200-3800ms)
   ============================================ */
.radialOuter {
  position: absolute;
  inset: 0;
  z-index: 1004;

  /* Third emission wave - peak density */
  background: radial-gradient(
    ellipse 50% 50% at 50% 45%,
    rgba(197, 179, 137, 0.5) 0%,    /* #C7B58B - highest density at core */
    rgba(197, 179, 137, 0.45) 15%,
    rgba(185, 165, 130, 0.38) 30%,
    rgba(170, 150, 115, 0.3) 45%,
    rgba(155, 135, 100, 0.22) 60%,
    rgba(140, 120, 85, 0.15) 75%,
    rgba(120, 100, 70, 0.1) 88%,
    transparent 100%
  );

  filter: blur(48px);

  /* Third wave - reaches peak density from center */
  animation:
    outerSeepExpand 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) 2.8s backwards,
    radialOuterDrift 22s ease-in-out infinite 3.5s;

  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

@keyframes outerSeepExpand {
  0% {
    opacity: 0;
    transform: scale(0.25) rotate(0deg);
    filter: blur(25px);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
    filter: blur(48px);
  }
}

@keyframes radialOuterDrift {
  0%, 100% {
    transform: translate(0, 0) scale(1) rotate(0deg);
  }
  14% {
    transform: translate(45px, 58px) scale(1.11) rotate(6.8deg);
  }
  31% {
    transform: translate(-58px, -42px) scale(0.86) rotate(-7.2deg);
  }
  47% {
    transform: translate(32px, -52px) scale(1.07) rotate(5.5deg);
  }
  63% {
    transform: translate(-48px, 35px) scale(0.94) rotate(-6.3deg);
  }
  80% {
    transform: translate(62px, -28px) scale(1.09) rotate(7.1deg);
  }
}

/* ============================================
   Accent Wisps - Phase 5: Final details (3200-4500ms)
   ============================================ */
.accentWisps {
  position: absolute;
  inset: -12%;
  z-index: 1005;

  /* Multiple scattered wisps - add texture and organic feel */
  background:
    radial-gradient(
      ellipse 18% 25% at 28% 22%,
      rgba(197, 179, 137, 0.35) 0%,
      rgba(180, 160, 120, 0.2) 40%,
      transparent 70%
    ),
    radial-gradient(
      ellipse 22% 18% at 72% 58%,
      rgba(190, 170, 130, 0.3) 0%,
      rgba(170, 150, 110, 0.18) 40%,
      transparent 70%
    ),
    radial-gradient(
      ellipse 15% 22% at 48% 78%,
      rgba(180, 160, 125, 0.28) 0%,
      rgba(160, 140, 105, 0.16) 40%,
      transparent 70%
    ),
    radial-gradient(
      ellipse 20% 16% at 18% 68%,
      rgba(195, 175, 135, 0.32) 0%,
      rgba(175, 155, 115, 0.19) 40%,
      transparent 70%
    ),
    radial-gradient(
      ellipse 14% 20% at 85% 32%,
      rgba(185, 165, 128, 0.26) 0%,
      rgba(165, 145, 108, 0.15) 40%,
      transparent 70%
    ),
    radial-gradient(
      ellipse 17% 23% at 12% 42%,
      rgba(200, 180, 140, 0.3) 0%,
      rgba(180, 160, 120, 0.17) 40%,
      transparent 70%
    );

  filter: blur(30px);

  /* Final detail wisps appear last */
  animation:
    wispsFadeIn 1.3s ease-out 3.2s backwards,
    accentWispsDrift 12s ease-in-out infinite 4.5s;

  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

@keyframes wispsFadeIn {
  from {
    opacity: 0;
    filter: blur(15px);
  }
  to {
    opacity: 1;
    filter: blur(30px);
  }
}

@keyframes accentWispsDrift {
  0%, 100% {
    transform: translate(0, 0) scale(1) rotate(0deg);
  }
  9% {
    transform: translate(72px, -48px) scale(1.15) rotate(8.2deg);
  }
  19% {
    transform: translate(-58px, 62px) scale(0.82) rotate(-9.5deg);
  }
  30% {
    transform: translate(85px, 32px) scale(1.12) rotate(7.1deg);
  }
  42% {
    transform: translate(-48px, -68px) scale(0.88) rotate(-8.8deg);
  }
  54% {
    transform: translate(52px, 75px) scale(1.18) rotate(9.3deg);
  }
  66% {
    transform: translate(-78px, -25px) scale(0.85) rotate(-7.6deg);
  }
  77% {
    transform: translate(68px, 45px) scale(1.14) rotate(8.9deg);
  }
  88% {
    transform: translate(-42px, -58px) scale(0.91) rotate(-6.7deg);
  }
}

/* ============================================
   Clearing Layer - Steam in front that clears to reveal content
   ============================================ */
.clearingLayer {
  position: absolute;
  inset: 0;
  z-index: 1009;  /* Above content */

  /* Dense steam that will clear away */
  background: radial-gradient(
    ellipse 45% 50% at 50% 45%,
    rgba(197, 179, 137, 0.95) 0%,    /* #C5B389 - very dense */
    rgba(197, 179, 137, 0.85) 15%,
    rgba(185, 165, 130, 0.75) 30%,
    rgba(170, 150, 115, 0.65) 45%,
    rgba(155, 135, 100, 0.5) 60%,
    rgba(140, 120, 85, 0.35) 75%,
    rgba(120, 100, 70, 0.2) 88%,
    transparent 100%
  );

  filter: blur(60px);

  /* Appears after steam builds (3.5s), then clears away over 2s */
  animation: clearingSmoke 2s ease-out 3.5s forwards;

  will-change: opacity;
  backface-visibility: hidden;
  transform: translateZ(0);
}

@keyframes clearingSmoke {
  0% {
    opacity: 1;
    filter: blur(60px);
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    filter: blur(70px);
    transform: scale(1.1);
  }
  100% {
    opacity: 0;
    filter: blur(80px);
    transform: scale(1.3);
  }
}

/* ============================================
   Density Variants - Control final density after emission
   ============================================ */
.density_light .radialBase { opacity: 0.7; }
.density_light .radialMid { opacity: 0.6; }
.density_light .radialOuter { opacity: 0.5; }
.density_light .accentWisps { opacity: 0.5; }

.density_medium .radialBase { opacity: 1; }
.density_medium .radialMid { opacity: 0.9; }
.density_medium .radialOuter { opacity: 0.85; }
.density_medium .accentWisps { opacity: 0.8; }

.density_dense .radialBase { opacity: 1; }
.density_dense .radialMid { opacity: 1; }
.density_dense .radialOuter { opacity: 1; }
.density_dense .accentWisps { opacity: 1; }

/* ============================================
   Reduced Motion Support
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  .burstEffect {
    animation: simpleFadeIn 0.2s ease-out forwards;
  }

  @keyframes simpleFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .radialBase,
  .radialMid,
  .radialOuter,
  .accentWisps {
    animation: simpleFadeIn 0.3s ease-out forwards !important;
  }

  /* Keep blur but remove all motion */
  .radialBase,
  .radialMid,
  .radialOuter,
  .accentWisps {
    will-change: auto;
  }
}
