/**
 * CloseButton Styles
 * 
 * Brass circular button matching design system.
 * Z-index: 1006 (highest - always accessible)
 */

.closeButton {
  position: fixed;
  top: 24px;
  right: 24px;
  z-index: 1006;
  
  width: 44px;
  height: 44px;
  padding: 0;
  
  /* Brass gradient from design system */
  background: linear-gradient(
    180deg,
    #6a5a4a 0%,
    #4a3a2a 40%,
    #2a1a0a 100%
  );
  
  border: 2px solid #8B6F47;
  border-radius: 50%;
  cursor: pointer;
  
  /* Depth and lighting */
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 200, 100, 0.15),
    inset 0 -2px 4px rgba(0, 0, 0, 0.3);
  
  /* Entry animation - fades in last */
  animation: closeFadeIn 0.2s ease-out forwards;
  animation-delay: 0.8s;
  opacity: 0;
  
  /* Hover transition */
  transition: 
    transform 0.15s ease, 
    box-shadow 0.15s ease,
    background 0.15s ease;
}

@keyframes closeFadeIn {
  to {
    opacity: 0.8;
  }
}

/* Hover state */
.closeButton:hover {
  opacity: 1 !important;
  transform: translateY(-2px);
  
  /* Lighter gradient on hover */
  background: linear-gradient(
    180deg,
    #7a6a5a 0%,
    #5a4a3a 40%,
    #3a2a1a 100%
  );
  
  /* Enhanced shadow with glow */
  box-shadow:
    0 6px 20px rgba(0, 0, 0, 0.5),
    0 0 15px rgba(255, 184, 54, 0.1),
    inset 0 1px 0 rgba(255, 200, 100, 0.2),
    inset 0 -2px 4px rgba(0, 0, 0, 0.2);
}

/* Active/pressed state */
.closeButton:active {
  transform: translateY(1px);
  
  box-shadow:
    0 2px 6px rgba(0, 0, 0, 0.4),
    inset 0 2px 4px rgba(0, 0, 0, 0.4);
}

/* Focus state for accessibility */
.closeButton:focus {
  outline: none;
}

.closeButton:focus-visible {
  outline: 2px solid #ffb836;
  outline-offset: 2px;
  opacity: 1 !important;
}

/* X icon */
.icon {
  font-size: 24px;
  line-height: 1;
  color: #f5deb3;
  display: block;
  
  /* Slight shadow for depth */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* ============================================
   Exit Animation (applied via data attribute)
   ============================================ */
.closeButton[data-closing="true"] {
  animation: closeFadeOut 0.15s ease-in forwards;
}

@keyframes closeFadeOut {
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}

/* ============================================
   Reduced Motion Support
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  .closeButton {
    animation: simpleFadeIn 0.1s ease-out forwards;
    animation-delay: 0.3s;
    transition: opacity 0.1s ease;
  }
  
  @keyframes simpleFadeIn {
    to {
      opacity: 0.8;
    }
  }
  
  .closeButton:hover {
    transform: none;
  }
  
  .closeButton:active {
    transform: none;
  }
}

/* ============================================
   Responsive Adjustments
   ============================================ */
@media (max-width: 768px) {
  .closeButton {
    top: 16px;
    right: 16px;
    width: 40px;
    height: 40px;
  }
  
  .icon {
    font-size: 22px;
  }
}

@media (max-width: 480px) {
  .closeButton {
    top: 12px;
    right: 12px;
    width: 36px;
    height: 36px;
  }
  
  .icon {
    font-size: 20px;
  }
}
