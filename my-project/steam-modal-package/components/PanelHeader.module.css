/**
 * PanelHeader Styles
 * 
 * Wooden panel styling matching the hamburger menu panels.
 * Features a tumble-in animation from above.
 */

.header {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1003;
  
  min-width: 300px;
  max-width: 600px;
  padding: 16px 40px;
  
  /* Wood texture background - gradient simulates wood grain */
  background: 
    linear-gradient(
      180deg,
      rgba(74, 53, 32, 0.95) 0%,
      rgba(58, 42, 26, 0.98) 50%,
      rgba(42, 30, 18, 1) 100%
    );
  background-color: #4a3520;
  
  /* Bronze border from design system */
  border: 3px solid #8B6F47;
  border-radius: 8px;
  
  /* Depth and lighting */
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(255, 200, 100, 0.1),
    inset 0 -2px 4px rgba(0, 0, 0, 0.3);
  
  /* Entry animation - tumbles in from above */
  animation: headerTumbleIn 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  animation-delay: 0.15s;
  opacity: 0;
  transform: translateX(-50%) perspective(1000px) rotateX(-90deg) translateY(-100px);
  transform-origin: top center;
}

@keyframes headerTumbleIn {
  0% {
    opacity: 0;
    transform: translateX(-50%) perspective(1000px) rotateX(-90deg) translateY(-100px);
  }
  60% {
    opacity: 1;
    transform: translateX(-50%) perspective(1000px) rotateX(10deg) translateY(0);
  }
  80% {
    transform: translateX(-50%) perspective(1000px) rotateX(-5deg) translateY(0);
  }
  100% {
    opacity: 1;
    transform: translateX(-50%) perspective(1000px) rotateX(0deg) translateY(0);
  }
}

/* ============================================
   Title Text
   ============================================ */
.title {
  font-family: 'Carnivalee Freakshow', serif;
  font-size: 28px;
  color: #f5deb3;
  text-align: center;
  margin: 0;
  letter-spacing: 2px;
  text-transform: uppercase;
  
  /* Text shadow for depth and readability */
  text-shadow:
    0 1px 0 rgba(255, 240, 220, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.8);
}

/* ============================================
   Corner Rivets
   ============================================ */
.rivet {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  
  /* Brass rivet appearance */
  background: radial-gradient(
    circle at 30% 30%,
    #d4a045 0%,
    #8B6F47 50%,
    #5a4030 100%
  );
  
  /* Highlight and shadow for 3D effect */
  box-shadow:
    inset 0 1px 2px rgba(255, 220, 150, 0.5),
    0 1px 2px rgba(0, 0, 0, 0.5);
}

.rivetTL { top: 8px; left: 8px; }
.rivetTR { top: 8px; right: 8px; }
.rivetBL { bottom: 8px; left: 8px; }
.rivetBR { bottom: 8px; right: 8px; }

/* ============================================
   Exit Animation (applied via data attribute)
   ============================================ */
.header[data-closing="true"] {
  animation: headerTumbleOut 0.3s cubic-bezier(0.55, 0.06, 0.68, 0.19) forwards;
}

@keyframes headerTumbleOut {
  to {
    opacity: 0;
    transform: translateX(-50%) perspective(1000px) rotateX(-90deg) translateY(-100px);
  }
}

/* ============================================
   Reduced Motion Support
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  .header {
    animation: fadeIn 0.15s ease-out forwards;
    animation-delay: 0.1s;
    transform: translateX(-50%);
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  .header[data-closing="true"] {
    animation: fadeOut 0.15s ease-in forwards;
  }
  
  @keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
  }
}

/* ============================================
   Responsive Adjustments
   ============================================ */
@media (max-width: 768px) {
  .header {
    min-width: 250px;
    max-width: calc(100vw - 48px);
    padding: 12px 32px;
  }
  
  .title {
    font-size: 22px;
    letter-spacing: 1px;
  }
}

@media (max-width: 480px) {
  .header {
    min-width: 200px;
    padding: 10px 24px;
  }
  
  .title {
    font-size: 18px;
  }
  
  .rivet {
    width: 6px;
    height: 6px;
  }
  
  .rivetTL { top: 6px; left: 6px; }
  .rivetTR { top: 6px; right: 6px; }
  .rivetBL { bottom: 6px; left: 6px; }
  .rivetBR { bottom: 6px; right: 6px; }
}
